description: |
  Listener to subscribe to input events and send HID updates after processing

compatible: "zmk,input-listener-ps2"

properties:
  device:
    type: phandle
    required: true
  xy-swap:
    type: boolean
  x-invert:
    type: boolean
  y-invert:
    type: boolean
  scale-multiplier:
    type: int
    default: 1
  scale-divisor:
    type: int
    default: 1
  move-accelerator:
    type: phandle
    required: false
  scroll-accelerator:
    type: phandle
    required: false
  layer-toggle:
    type: int
    default: -1
    required: false
    description: The layer that should be toggled when the mouse is moved.
  layer-toggle-delay-ms:
    type: int
    default: 250
    required: false
    description: How many miliseconds of mouse activity are required before the layer is toggled on.
  layer-toggle-timeout-ms:
    type: int
    default: 250
    required: false
    description: How many miliseconds of mouse inactivity are required before the layer is toggled off again.
  layer-toggle-require-prior-idle-ms:
    type: int
    default: -1
    description: Requires that no keys have been pressed for at least the specified time before the layer is activated. Allows you to prevent the activation of the mouse layer if the mouse device is moved is accidentally moved while typing.
  scroll-layers:
    type: array
    required: false
    description: On which layers the mouse movement should be converted into scroll movement.
  scroll-layers-reverse-direction-vertical:
    type: boolean
    required: false
    description: Swaps the direction of vertical scrolling (up becomes down and down becomes up). Useful on macOS with their "natural scrolling", which makes sense on trackpads, but not other mouse devices.
